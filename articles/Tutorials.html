<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tutorials • medusa</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tutorials">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medusa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li>
  <a href="../articles/TheModel.html">
    <span class="fa fa-solid fa-magnifying-glass-chart"></span>

    The Model
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-solid fa-chart-pie"></span>

    Packge Data

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/PackageData.html">Package Data</a>
    </li>
    <li>
      <a href="../articles/AvailableVariables.html">Available Variables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/Tutorials.html">
    <span class="fas fa-book"></span>

    Tutorials
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>

    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bc3LC/medusa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Tutorials</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bc3LC/medusa/blob/main/vignettes/Tutorials.Rmd" class="external-link"><code>vignettes/Tutorials.Rmd</code></a></small>
      <div class="hidden name"><code>Tutorials.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="step-by-step-tutorials">Step by step tutorials<a class="anchor" aria-label="anchor" href="#step-by-step-tutorials"></a>
</h2>
<div class="section level3">
<h3 id="example-1--how-to-enter-price-shocks-in-calc_di">Example 1. How to enter price shocks in <code>calc_di</code><a class="anchor" aria-label="anchor" href="#example-1--how-to-enter-price-shocks-in-calc_di"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Download the example file into your directory by running the
following function in the terminal:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ex_shocks.html">ex_shocks</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>Go to the defined folder in your directory and open the csv
“Example_shocks”.</p></li>
<li><p>Define the scenarios: Each column Scenario__ is a scenario. To
run <code>calc_di</code> for a single scenario delete column Scenario2.
To add another scenario, copy column Scenario2 to the right and change
the heading to Scenario3. You can also rename the scenarios by changing
the heading of each column (e.g. renaming “Scenario1” to “Shock1”). It
is recommended to keep the names short, as additional variables with
this name will be created later and inserted into the graphs.</p></li>
<li><p>Enter the price shocks: Each row corresponds to a COICOP code <a href="#id_1">[1]</a> . Enter in each row the price change to be applied
to each coicop in each scenario (column). A price shock greater than 1
indicates a price increase (e.g. 1.1 indicates a 10% increase) and less
than 1 indicates a price decrease (e.g. 0.9 indicates a 10% decrease).
If there is no shock in that category, keep 1.</p></li>
<li><p>Save the edited csv file.</p></li>
<li><p>Upload the edited file to R by running the following function in
the terminal:</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">file</span>,        <span class="co"># File name or full file path</span></span>
<span>             header <span class="op">=</span> <span class="cn">TRUE</span>,        <span class="co"># Read the header (TRUE)</span></span>
<span>             sep <span class="op">=</span> <span class="st">","</span>,            <span class="co"># Value separator</span></span>
<span>             dec <span class="op">=</span> <span class="st">"."</span>,            <span class="co"># Decimal point</span></span>
<span>             <span class="va">...</span><span class="op">)</span>                  <span class="co"># Additional arguments</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Indicate to <code>calc_di</code> that this is the file from which to
take the price shocks to be applied.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_di.html">calc_di</a></span><span class="op">(</span> <span class="va">year</span>,                 </span>
<span>         elevate <span class="op">=</span> <span class="cn">F</span>,</span>
<span>         shocks <span class="op">=</span> <span class="va">file_name</span>,   <span class="co"># Indicate here your file name</span></span>
<span>         <span class="va">...</span><span class="op">)</span></span></code></pre></div>
<p><small><i> <a name="1">[1]</a> The COICOP variables of the file
correspond to the aggregate variables of the package, if you are not
going to aggregate the COICOP variables you have to replace the column
labels by the COICOP variables that appear in your dataset.</i></small></p>
</div>
<div class="section level3">
<h3 id="example-2--how-to-enter-the-variables-for-which-we-want-calc_di-to-calculate-distributional-impacts">Example 2. How to enter the variables for which we want
<code>calc_di</code> to calculate distributional impacts<a class="anchor" aria-label="anchor" href="#example-2--how-to-enter-the-variables-for-which-we-want-calc_di-to-calculate-distributional-impacts"></a>
</h3>
<div class="section level4">
<h4 id="introduce-individual-variables-var_impact">Introduce individual variables (var_impact)<a class="anchor" aria-label="anchor" href="#introduce-individual-variables-var_impact"></a>
</h4>
<ol style="list-style-type: decimal">
<li>To know the variables for which the calculation of basic
distributional impacts is available run the following function.<br>
</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/available_var_impact.html">available_var_impact</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>Select one of the variables that the function returns in the
console. For example, “ZONA”.</p></li>
<li><p>Enter that variable in the <code>var_impact</code> argument of
<code>calc_di</code>. By default, <code>var_impact = "all"</code> ,
i.e. it calculates the distributional impacts for all variables returned
by <code><a href="../reference/available_var_impact.html">available_var_impact()</a></code>. For more information on
variables click <a href="https://bc3lc.github.io/medusa/articles/AvailableVariables.html" class="external-link">here</a>.</p></li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_di.html">calc_di</a></span><span class="op">(</span> <span class="va">year</span>,                 </span>
<span>        elevate <span class="op">=</span> <span class="cn">F</span>,</span>
<span>        <span class="va">shocks</span> ,   </span>
<span>        var_impact <span class="op">=</span> <span class="st">"ZONA"</span>,       <span class="co"># Indicate here the selected variable</span></span>
<span>        <span class="va">...</span><span class="op">)</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>In case you want to calculate distributional impacts for several
variables, e.g. for “ZONE” and “TAMAMU”, create a vector with these
variables and enter it in the <code>var_impact</code> argument of
<code>calc_di</code>.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Create a vector</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ZONA"</span>, <span class="st">"TAMAMU"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Introduce the vector in var_impact argument</span></span>
<span><span class="fu"><a href="../reference/calc_di.html">calc_di</a></span><span class="op">(</span> <span class="va">year</span>,                 </span>
<span>        elevate <span class="op">=</span> <span class="cn">F</span>,</span>
<span>        <span class="va">shocks</span> ,   </span>
<span>        var_impact <span class="op">=</span> <span class="va">vars</span>,       <span class="co"># Indicate here the name of the vector with the selected variables</span></span>
<span>        <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="introduce-a-set-of-variables-var_intersec">Introduce a set of variables (var_intersec)<a class="anchor" aria-label="anchor" href="#introduce-a-set-of-variables-var_intersec"></a>
</h4>
<ol style="list-style-type: decimal">
<li>To know the set of variables for which the calculation of
intersectional distributional impacts is available run the following
function. The function returns a table with the set of variables
(category_a and category_b) for which the calculation of intersectional
distributional impacts is available.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/available_var_intersec.html">available_var_intersec</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Create a table with the set of variables for which you want to
calculate distributional impacts in the format predefined in the
package. To do this, run the following function that saves a csv file in
your directory, open it and delete the rows with the combinations you
are not interested in. Once you have a table with only the set of
variables you are interested in, save it.</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ex_var_intersec.html">ex_var_intersec</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Upload the edited file to R by running the following function in the
terminal:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">file</span>,        <span class="co"># File name or full file path</span></span>
<span>             header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>             <span class="va">...</span><span class="op">)</span>                  <span class="co"># Additional arguments</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Enter the file in the <code>var_intersec</code> argument in
<code>calc_di</code>. By default, <code>var_intersec = NULL</code> ,
i.e. iif no data is entered in this argument it will not calculate any
intersectional impacts, it will only calculate distributional impacts
for individual variables. For more information on variables click <a href="https://bc3lc.github.io/medusa/articles/AvailableVariables.html" class="external-link">here</a>.</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/calc_di.html">calc_di</a></span><span class="op">(</span> <span class="va">year</span>,                 </span>
<span>        elevate <span class="op">=</span> <span class="cn">F</span>,</span>
<span>        <span class="va">shocks</span> ,   </span>
<span>        var_intersec <span class="op">=</span> <span class="va">file_name</span>,       <span class="co"># Indicate here the file name of the selected set of variables</span></span>
<span>        <span class="va">...</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Eva Alonso-Epelde, Clàudia Rodés-Bachs, María Moyano-Reina, Jon Sampedro, Xaquín García-Muros.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
